{"ast":null,"code":"var _jsxFileName = \"/Users/mubashirkhan/Documents/Fuel-Rate-Predictor-Web-Portal/client/src/components/auth/Login.js\";\nimport React, { useState, useContext } from 'react';\nimport AuthService from '../../Services/AuthService';\nimport Message from '../../components/Message';\nimport { AuthContext } from '../../context/AuthContext';\nimport logo from \"../../img/logo.svg\";\nimport '../../App.css';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\n\nconst Login = props => {\n  const [user, setUser] = useState({\n    username: \"\",\n    password: \"\"\n  });\n  const [message, setMessage] = useState(null);\n  const authContext = useContext(AuthContext);\n\n  const onChange = e => {\n    e.preventDefault();\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n    console.log(user);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    AuthService.login(user).then(data => {\n      console.log(data);\n      const {\n        isAuthenticated,\n        user,\n        message\n      } = data;\n\n      if (isAuthenticated) {\n        authContext.setUser(user);\n        authContext.setIsAuthenticated(isAuthenticated);\n        props.history.push('/profile');\n      } else setMessage(message);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: onSubmit,\n    className: \"login-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: logo,\n    className: \"logo\",\n    alt: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 21\n    }\n  }, \"Username\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"username\",\n    placeholder: \"Username\",\n    className: \"mb-3\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Password\",\n    className: \"mb-3\",\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-lg btn-dark btn-block mb-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, \"Login\"))), message ? /*#__PURE__*/React.createElement(Message, {\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 24\n    }\n  }) : null);\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/mubashirkhan/Documents/Fuel-Rate-Predictor-Web-Portal/client/src/components/auth/Login.js"],"names":["React","useState","useContext","AuthService","Message","AuthContext","Button","Form","FormGroup","Label","Input","Login","props","user","setUser","username","password","message","setMessage","authContext","onChange","e","preventDefault","target","name","value","console","log","onSubmit","login","then","data","isAuthenticated","setIsAuthenticated","history","push","logo"],"mappings":"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","sourcesContent":["import React, {useState, useContext} from 'react';\nimport AuthService from '../../Services/AuthService';\nimport Message from '../../components/Message';\nimport {AuthContext} from '../../context/AuthContext';\nimport logo from '../../img/logo.svg'\nimport '../../App.css'\nimport {\n    Button, \n    Form, \n    FormGroup,\n    Label,\n    Input\n} from 'reactstrap';\n\nconst Login = props => {\n    const [user, setUser] = useState({username: \"\",password: \"\"});\n    const [message, setMessage] = useState(null);\n    const authContext = useContext(AuthContext);\n\n    const onChange = e => {\n        e.preventDefault();\n        setUser({...user,[e.target.name]: e.target.value})\n        console.log(user);\n    }\n    \n    const onSubmit = e => {\n        e.preventDefault();\n        AuthService.login(user).then(data =>{\n            console.log(data);\n            const {isAuthenticated,user,message} = data;\n            if(isAuthenticated){\n                authContext.setUser(user);\n                authContext.setIsAuthenticated(isAuthenticated);\n                props.history.push('/profile')\n            }\n            else\n                setMessage(message);\n        })\n    }\n     \n    return(\n        <div>\n            <Form onSubmit ={onSubmit} className=\"login-form\" >\n                <img src={logo} className=\"logo\" alt=\"logo\" />\n                <FormGroup>\n                    <Label>Username</Label>\n                    <Input \n                        type = \"text\" \n                        name = \"username\"\n                        placeholder =\"Username\"\n                        className = \"mb-3\"\n                        onChange = {onChange}>\n                    </Input>\n                    <Label>Password</Label>\n                    <Input \n                        type = \"password\" \n                        name = \"password\"\n                        placeholder =\"Password\"\n                        className= \"mb-3\"\n                        onChange = {onChange}>\n                    </Input>\n                    <Button className = \"btn-lg btn-dark btn-block mb-3\">Login</Button>\n                </FormGroup>\n            </Form>\n            {message ? <Message message ={message} /> : null}\n        </div>\n    )\n\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}